---
title: CLI Reference
description: Complete reference for the Railgun command-line interface.
---

Railgun is invoked via the `railgun` command.

## Synopsis

```bash
railgun [OPTIONS] <COMMAND>

Commands:
  install    Configure Claude Code to use Railgun
  uninstall  Remove Railgun from Claude Code
  lint       Validate configuration file
  test       Test policy against specific input
  hook       Run as hook (used internally by Claude Code)

Options:
  -c, --config <FILE>  Path to config file [default: railgun.toml]
  -h, --help           Print help
  -V, --version        Print version
```

## Commands

### `railgun install`

Configure Claude Code to use Railgun as a `preToolUse` hook.

```bash
railgun install
```

This modifies `~/.claude/settings.json` to add:

```json
{
  "hooks": {
    "preToolUse": [
      {
        "matcher": "*",
        "command": "railgun hook"
      }
    ]
  }
}
```

### `railgun uninstall`

Remove Railgun from Claude Code's hook configuration.

```bash
railgun uninstall
```

### `railgun lint`

Validate your configuration file for syntax errors and invalid patterns.

```bash
railgun lint
railgun lint -c custom.toml
```

### `railgun test`

Test your policy against a specific tool input without running Claude Code.

```bash
railgun test <TOOL_NAME> '<JSON_INPUT>'
```

**Examples:**

```bash
# Test Bash command
railgun test Bash '{"command":"ls -la"}'

# Test file write
railgun test Write '{"file_path":"/tmp/test.txt","content":"hello"}'

# Test with secrets
railgun test Bash '{"command":"echo $AWS_SECRET_ACCESS_KEY"}'

# Test protected path
railgun test Read '{"file_path":"~/.ssh/id_rsa"}'

# Test network
railgun test WebFetch '{"url":"https://pastebin.com/raw/abc123"}'
```

**Output:**

```
ALLOWED
```

or

```
DENIED
Reason: Dangerous command pattern: rm -rf with root path
```

### `railgun hook`

Run as a Claude Code hook. Reads JSON from stdin, writes verdict to stdout.

```bash
echo '{"tool_name":"Bash","tool_input":{"command":"ls"}}' | railgun hook
```

**Input Format:**

```json
{
  "tool_name": "Bash",
  "tool_input": {
    "command": "ls -la"
  }
}
```

**Exit Codes:**

| Code | Verdict | Behavior |
|------|---------|----------|
| 0 | Allow | Tool executes normally |
| 0 | Ask | User prompted (with `hookSpecificOutput`) |
| 2 | Deny | Tool blocked (with `hookSpecificOutput`) |

## Global Options

### `--config, -c`

Specify the path to your configuration file.

```bash
railgun -c ./custom/railgun.toml lint
railgun --config /etc/railgun.toml test Bash '{"command":"ls"}'
```

**Config Search Order:**

1. Explicit `-c` flag
2. `railgun.toml` in current directory
3. `~/.config/railgun/railgun.toml`
4. Built-in defaults

## Environment Variables

| Variable | Purpose |
|----------|---------|
| `RUST_LOG` | Log level (`debug`, `info`, `warn`, `error`) |
| `RAILGUN_CONFIG` | Alternative to `-c` flag |

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success (or Allow/Ask verdict for hook) |
| 1 | Configuration error or general failure |
| 2 | Deny verdict (hook mode only) |

## Next Steps

- [Configuration](/docs/configuration) — Config file reference
- [Policy Engine](/docs/policy-engine) — How inspection works
